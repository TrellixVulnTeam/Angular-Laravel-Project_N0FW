{"ast":null,"code":"import { AddCartItemActionSuccess, DeleteCartItemSuccess, GetCartItemActionSuccess } from '../actions/cart.actions';\nimport { initialCartState } from '../state/app.state';\nimport { createReducer, on } from '@ngrx/store';\n\nconst _cartReducer = createReducer(initialCartState, on(AddCartItemActionSuccess, (state, action) => {\n  let newtotal = action.item;\n  console.log(newtotal.data.sub_total);\n  return Object.assign(Object.assign({}, state), {\n    cart: action.products,\n    total: state.total + newtotal.data.sub_total\n  });\n}), on(GetCartItemActionSuccess, (state, action) => {\n  return Object.assign(Object.assign({}, state), {\n    cartWithProducts: action.item\n  });\n}), on(DeleteCartItemSuccess, (state, {\n  id\n}) => {\n  let items = state.cartWithProducts.filter(single_item => {\n    return single_item.id !== id;\n  });\n  let updateTotal = state.cartWithProducts.filter(single_item => {\n    return single_item.id == id;\n  });\n  return Object.assign(Object.assign({}, state), {\n    cartWithProducts: items,\n    total: Math.trunc(state.total - updateTotal[0].sub_total)\n  });\n}));\n\nexport function cartReducer(state, action) {\n  return _cartReducer(state, action);\n}\n;","map":null,"metadata":{},"sourceType":"module"}